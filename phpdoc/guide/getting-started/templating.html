<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>ClarksonCore</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">ClarksonCore</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -four phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Documentation</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/getting-started/index.html" class="">Getting started</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/getting-started/installation.html" class="">Installation</a>
                
            </li>
                    <li>
                <a href="guide/getting-started/templating.html" class="-active">Templating</a>
                
            </li>
                    <li>
                <a href="guide/getting-started/clarkson-objects.html" class="">Clarkson objects</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/clarkson-core.html" class="">Clarkson_Core</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/clarkson-core-gutenberg.html" class="">Gutenberg</a>
                
            </li>
                    <li>
                <a href="namespaces/clarkson-core-wordpress-object.html" class="">WordPress_Object</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/ClarksonCore.html" class="">ClarksonCore</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <div class="section" id="templating">
<h1>Templating</h1>
<p>Clarkon Core allows you to write templates using <a href="https://twig.symfony.com/">Twig</a>.</p>
<div class="section" id="structure">
<h2>Structure</h2>
<p>Clarkson Core looks into the <code>templates/</code> folder of the active theme, and a the parent theme if applicable to find files to load.</p>
<p>Clarkson Core follows the same <a href="https://developer.wordpress.org/themes/basics/template-hierarchy/">template hierarchy</a> as WordPress does.</p>
<p>The first file that exists will be displayed. An example for a <code>404</code> page the order would be:</p>

    
<ol>
    <li>
            <code>wp-content/themes/child-theme/templates/404.twig</code>
        </li>
    <li>
            <code>wp-content/themes/parent-theme/templates/404.twig</code>
        </li>
    <li>
            <code>wp-content/themes/child-theme/404.php</code>
        </li>
    <li>
            <code>wp-content/themes/parent-theme/404.php</code>
        </li>
    <li>
            <code>wp-content/themes/child-theme/templates/index.twig</code>
        </li>
    <li>
            <code>wp-content/themes/parent-theme/templates/index.twig</code>
        </li>
    <li>
            <code>wp-content/themes/child-theme/index.php</code>
        </li>
    <li>
            <code>wp-content/themes/parent-theme/index.php</code>
        </li>
</ol>
</div>
<div class="section" id="an-example-theme-structure">
<h2>An example theme structure</h2>
<p>Imagine a custom WordPress theme with:</p>

    
<ol>
    <li>
            A custom post type <code>event</code>.
        </li>
    <li>
            A custom taxonomy <code>venue</code>.
        </li>
    <li>
            A custom <code>contact</code> page template.
        </li>
</ol>
<p>You would structure the theme something like the following:</p>
<pre><code class="language- " >- templates/
  - 404.twig
  - archive.twig
  - archive-event.twig
  - embed-event.twig
  - single-event.twig
  - singular.twig
  - search.twig
  - taxonomy-venue.twig
  - template-contact.twig
- embed.php
- functions.php
- home.php
</code></pre>
<p>Regular posts and pages would load <code>templates/archive.twig</code> and <code>templates/singular.twig</code>.</p>
<p>The custom <code>event</code> post and the custom <code>venue</code> taxonomy would load <code>templates/single-event.twig</code>, <code>templates/archive-event.twig</code> and <code>templates/taxonomy-venue.twig</code>.</p>
<p>The user could select a custom template <code>template-contact.twig</code> for a page.</p>
<p>Embeds for the <code>event</code> post type would be handled by <code>templates/embed-event.twig</code>, while all other embeds would be handled by <code>embed.php</code>.</p>
<p>Search is handled by <code>templates/search.twig</code>.</p>
<p>The 404 page is handled by <code>templates/404.twig</code>.</p>
<p>The home page (blog) is handled by <code>home.php</code>.</p>
</div>
<div class="section" id="overwriting-default-loading-behaviour">
<h2>Overwriting default loading behaviour</h2>
<p>You can use filters to determine how and where Clarkson Core will look for your templates. The following filters are available:</p>


<ul>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_twig_template_dirs.html">clarkson_twig_template_dirs</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_twig_stylesheet_dir.html">clarkson_twig_stylesheet_dir</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_twig_template_dir.html">clarkson_twig_template_dir</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_core_template_paths.html">clarkson_core_template_paths</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_twig_template_dirs.html">clarkson_twig_template_dirs</a>
        </li>
</ul>
</div>
<div class="section" id="adding-custom-page-templates">
<h2>Adding (custom) page templates</h2>
<p>WordPress allows developers to create custom templates for all post types, which can then be selected in a dropdown when editing the post in the WordPress editor.</p>
<p>Files in the <code>templates/</code> directory that match '<code>template-*.twig</code>' are automatically added to the template dropdown for pages.</p>
<p>If you want to hide a template from the page template dropdown, or you want to show your template in the dropdown for other posttypes, you can use on of the following filters:</p>


<ul>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_core_templates_types_for_%257B$name%257D.html">clarkson_core_templates_types_for_{$name}</a>
        </li>
    <li>
            <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_core_%257B$post_type%257D_templates.html">clarkson_core_{$post_type}_templates</a>
        </li>
</ul>
</div>
<div class="section" id="using-php-functions-in-your-twig-template">
<h2>Using PHP functions in your twig template</h2>
<p>You can use functions in your twig template using the regular function calls in Twig.</p>
<pre><code class="language-twig " >{{ get_stylesheet_directory_uri() }}
</code></pre>
<p>Clarkson Core registers a lot of functions that can be used in Twig by default.</p>
<div class="phpdocumentor-admonition -warning ">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>If you are trying to use a function that is not (yet) available in Twig, you can use the <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_twig_functions.html">clarkson_twig_function</a> filter to add inyour custom functions.</p>

    </article>
</div>
</div>
<div class="section" id="clarkson-objects-in-twig">
<h2>Clarkson Objects in twig</h2>
<p>Clarkson Core will have some <a href="guide/getting-started/clarkson-objects.html">Clarkson objects</a> available in a template by default.</p>
<div class="phpdocumentor-admonition -note ">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>When <code>WP_DEBUG</code> is enabled, you can use the dump command (eg. <code>{{ dump(object) }}</code>) to figure out which object you are working with.</p>

    </article>
</div>
<pre><code class="language-php " >// Page details (single.twig, single-*.twig, singular.twig, etc)
[
    &#039;object&#039; =&gt; &quot;Main item the single is about&quot;,
    &#039;objects&#039; =&gt; &quot;(deprecated) Same as &#039;objects&#039;&quot;,
]
</code></pre>
<pre><code class="language-php " >// Archives (archive.twig, archive-*.twig, etc)
[
    &#039;object&#039; =&gt; &quot;First result of the query&quot;,
    &#039;objects&#039; =&gt; &quot;All results of the query, maybe limited by posts_per_page.&quot;,
    &#039;post_type&#039; =&gt; &quot;An object representing the post type this archive is for&quot;
]
</code></pre>
<pre><code class="language-php " >// Term archives (category.twig, taxonomy-*.twig, etc)
[
    &#039;object&#039; =&gt; &quot;First result of the query&quot;,
    &#039;objects&#039; =&gt; &quot;All results of the query, maybe limited by posts_per_page.&quot;,
    &#039;term&#039; =&gt; &quot;An object representing the term this archive is for&quot;
]
</code></pre>
<pre><code class="language-php " >// Authors (author.twig, etc)
[
    &#039;object&#039; =&gt; &quot;First result of the query&quot;,
    &#039;objects&#039; =&gt; &quot;All results of the query, maybe limited by posts_per_page.&quot;,
    &#039;user&#039; =&gt; &quot;(deprecated) An object representing the author&quot;
    &#039;author&#039; =&gt; &quot;An object representing the author&quot;
]
</code></pre>
<pre><code class="language-php " >// search (search.twig)
[
    &#039;object&#039; =&gt; &quot;First result of the query&quot;,
    &#039;objects&#039; =&gt; &quot;All results of the query, maybe limited by posts_per_page.&quot;,
    &#039;found_posts&#039; =&gt; &quot;Number of posts matching the query&quot;
]
</code></pre>
<pre><code class="language-php " >// home (home.twig)
[
    &#039;posts_page&#039; =&gt; &quot;An object representing the selected posts page&quot;,
    &#039;objects&#039; =&gt; &quot;All results of the query, maybe limited by posts_per_page.&quot;,
]

</code></pre>
<div class="phpdocumentor-admonition -note ">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>You can make custom objects available on your templates by using the <a href="https://level-level.github.io/Clarkson-Core/hooks/clarkson_core_template_context.html">clarkson_core_template_context</a> filter.</p>

    </article>
</div>
</div>
<div class="section" id="rendering-other-templates">
<h2>Rendering other templates</h2>
<p>Sometimes you might want to render twig files outside of the normal WordPress template hierarchy.</p>
<p>Some usecases for this might admin panels, widget render callbacks or rendering e-mail contect.</p>
<p>In these cases you can use Clarkson Core to select the twig file to render and provide the appropriate environment.</p>
<pre><code class="language-php line-numbers" data-start=1>&lt;?php

class EventWidget extends \WP_Widget {
    public function __construct( string $widget_title = &#039;&#039; ) {
        // Instantiate the widget.
    }

    public function widget( $args, $instance ) {
        $twig = \Clarkson_Core\Templates::get_instance();

        $twig-&gt;echo_twig(
            &#039;partials/widgets/event.twig&#039;, array(
                &#039;args&#039; =&gt; $args,
            ), true
        );
    }
}
</code></pre>
</div>
<div class="section" id="whats-next">
<h2>Whats next</h2>


<ul>
    <li>
            If you learn about <a href="guide/getting-started/clarkson-objects.html">Clarkson objects</a>, you will be able to do much more with your templates.
        </li>
    <li>
            You can also read the <a href="https://twig.symfony.com/doc/3.x/templates.html">Twig for template designers documentation</a> to understand the capabilities and structure of Twig.
        </li>
    <li>
            Use tools like <a href="https://github.com/friendsoftwig/twigcs">TwigCS</a> to enforce best practices.
        </li>
</ul>
</div>

                <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>